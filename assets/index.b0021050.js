import{r as N,o as f,c as _,a,F as k,b as $,d as T,p as q,e as F,t as g,f as A,g as V,n as j,h as b,i as B,w as L,j as E,k as H}from"./vendor.462922cf.js";const P=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerpolicy&&(i.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?i.credentials="include":o.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}};P();var M=(t,e)=>{const n=t.__vccOpts||t;for(const[r,o]of e)n[r]=o;return n};const J=t=>(q("data-v-7048e968"),t=t(),F(),t),R={class:"example"},U={class:"btnbar"},z={key:0},K=J(()=>a("thead",null,[a("tr",null,[a("th",null,"ID"),a("th",null,"Source"),a("th",null,"Target")])],-1)),W={setup(t){var e;const n=N([]);function r(u){var d=u.target.result,p=new DOMParser;e=p.parseFromString(d,"text/xml");var m=e.querySelectorAll("trans-unit");for(const v of m){const S=v.querySelector("source"),C=v.querySelector("target");n.value.push({id:v.id,source:S,target:C,srcText:S.innerHTML,tgtText:C.innerHTML})}}function o(u){var m;var d=u.target.result,p=JSON.parse(d);for(const v of n.value)v.target.innerHTML=(m=p[v.id])!=null?m:v.tgtText;console.log(p)}function i(u){let d=new FileReader;d.readAsText(u.target.files[0],"UTF-8"),d.onload=r}function l(){const u={};for(const d of n.value)u[d.id]=d.srcText;console.log(JSON.stringify(u))}function c(u){let d=new FileReader;d.readAsText(u.target.files[0],"UTF-8"),d.onload=o}function s(){console.log(e)}return(u,d)=>(f(),_("div",R,[a("div",U,[a("input",{type:"file",onChange:i},null,32),a("button",{onClick:l},"Extract Souces"),a("input",{type:"file",onChange:c},null,32),a("button",{onClick:s},"Save")]),a("div",null,[n.value.length?(f(),_("table",z,[K,a("tbody",null,[(f(!0),_(k,null,$(n.value,(p,m)=>(f(),_("tr",{key:m},[a("td",null,g(p.id),1),a("td",null,g(p.srcText),1),a("td",null,g(p.tgtText),1)]))),128))])])):T("v-if",!0)])]))}};var X=M(W,[["__scopeId","data-v-7048e968"]]);const Y={setup(t){return(e,n)=>(f(),_(k,null,[T(' <img alt="Vue logo" src="./assets/logo.png" /> '),A(X)],2112))}};let y=null,x=null,h={callback:null,selectors:[],exceptSelector:null},w=[];const G={subtree:!0,childList:!0,characterData:!0};function Q(t){const e=t.getBoundingClientRect();return{left:e.left+window.scrollX,top:e.top+window.scrollY}}function I(t,e){return t.level>e.level?(t.parent=e,e.children||(e.children=[]),e.children.push(t),t):e.parent?I(t,e.parent):(console.error("[directive] fatal error: should not get here"),e)}function Z(t){let e={title:"ToC",level:0,children:[]},n=e;for(const r of t)n=I(r,n);return e.children}function ee(){let t=[];for(let r of h.selectors)t=[...t,...y.querySelectorAll(r)];let e=[];h.exceptSelector&&(e=[...y.querySelectorAll(h.exceptSelector)]),t=t.filter(r=>!e.includes(r));let n=[];for(const r of t)n.push({title:r.innerHTML,level:parseInt(r.nodeName.substring(1)),pos:Q(r),el:r});return n.sort((r,o)=>r.pos.top!==o.pos.top?r.pos.top-o.pos.top:r.pos.left-o.pos.left),Z(n)}function O(){w=ee(),h.callback&&h.callback(w)}var te={mounted(t,e){console.log("[directive] e ",t),y=t,e.value&&(h=e.value);let n=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;x=new n(()=>O()),x.observe(y,G),O()},unmounted(){x.disconnect(),y=null,h=null,x=null,w=null}};const re=["onClick"],ne=["onClick"],oe={name:"Tree"},le=Object.assign(oe,{props:{data:{type:Array,required:!0},indent:{type:Number,default:10}},emits:["node-click"],setup(t,{emit:e}){const n=r=>e("node-click",r);return(r,o)=>{const i=V("Tree",!0);return f(),_("div",null,[(f(!0),_(k,null,$(t.data,(l,c)=>(f(),_("div",{key:c,style:j({"padding-left":t.indent+"px"})},[b(r.$slots,"default",{row:l},()=>[a("div",{onClick:s=>n(l)},g(l.title),9,re)]),l.children?(f(),B(i,{key:0,data:l.children,indent:t.indent+10},{default:L(s=>[b(r.$slots,"default",{row:s.row},()=>[a("div",{onClick:u=>n(s.row)},g(s.row.title),9,ne)])]),_:2},1032,["data","indent"])):T("v-if",!0)],4))),128))])}}});const se={class:"tree-container"},ce=["onClick"],ae={props:{treeData:{type:Array,required:!0}},setup(t){const e=t,n=N([]);E(e,()=>{var c;if(!((c=e.treeData)==null?void 0:c.length))return;n.value=e.treeData;for(const s of n.value)r(s);let l=1;for(const s of n.value)l=o(s,l)});function r(l){var c;if(!((c=l.children)==null?void 0:c.length))l.children=void 0;else for(const s of l.children)r(s)}function o(l,c){var s;if(l.id=c++,(s=l.children)==null?void 0:s.length)for(const u of l.children)c=o(u,c++);return c}function i(l){var c;(c=l.el)==null||c.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}return(l,c)=>(f(),_("div",se,[A(le,{data:n.value},{default:L(s=>[b(l.$slots,"default",{scope:s},()=>[a("span",{onClick:u=>i(s.row)},g(s.row.title),9,ce)],!0)]),_:3},8,["data"])]))}};var ie=M(ae,[["__scopeId","data-v-0567f8e7"]]);function ue(t,e={}){let{directiveName:n="outline",treeName:r="outline-tree"}=e;t.directive(n,te),t.component(r,ie)}const D=H(Y);ue(D);D.mount("#app");
