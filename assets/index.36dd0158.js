import{r as w,a as g,o as b,c as C,b as n,w as c,d as S,e as U,p as k,f as M,g as _,h as j,A as F}from"./vendor.1ca668ed.js";const B=function(){const f=document.createElement("link").relList;if(f&&f.supports&&f.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const l of e)if(l.type==="childList")for(const x of l.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&a(x)}).observe(document,{childList:!0,subtree:!0});function i(e){const l={};return e.integrity&&(l.integrity=e.integrity),e.referrerpolicy&&(l.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?l.credentials="include":e.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(e){if(e.ep)return;e.ep=!0;const l=i(e);fetch(e.href,l)}};B();var J=(d,f)=>{const i=d.__vccOpts||d;for(const[a,e]of f)i[a]=e;return i};const y=d=>(k("data-v-7048e968"),d=d(),M(),d),q={class:"example"},E=y(()=>_("br",null,null,-1)),P=y(()=>_("br",null,null,-1)),R=y(()=>_("br",null,null,-1)),V={setup(d){const f=[{title:"ID",dataIndex:"id"},{title:"Source",dataIndex:"srcText"},{title:"Target",dataIndex:"tgtText"},{title:"New",dataIndex:"newtgt"}];var i;const a=w({idName:"id",unitName:"trans-unit",srcName:"source",tgtName:"target"}),e=w([]);function l(r,t){var o=document.createElement("a");o.setAttribute("download",t),o.style.display="none";var u=new Blob([r]);o.href=URL.createObjectURL(u),document.body.appendChild(o),o.click(),document.body.removeChild(o)}function x(r){var t=r.target.result,o=new DOMParser;i=o.parseFromString(t,"text/xml");var u=i.querySelectorAll(a.value.unitName);for(const m of u){const s=m.querySelector(a.value.srcName),v=m.querySelector(a.value.tgtName);e.value.push({id:m[a.value.idName],source:s,target:v,srcText:s.innerHTML,tgtText:v.innerHTML})}}function h(r){var u,m;var t=r.target.result,o=JSON.parse(t);for(const s of e.value)s.target.innerHTML=(u=o[s.id])!=null?u:s.tgtText,s.newtgt=(m=o[s.id])!=null?m:s.newtgt;console.log(o)}function T(r){let t=new FileReader;t.readAsText(r.target.files[0],"UTF-8"),t.onload=x}function L(){const r={};for(const t of e.value)r[t.id]=t.srcText;l(JSON.stringify(r),"sources.json"),console.log(JSON.stringify(r))}function O(r){let t=new FileReader;t.readAsText(r.target.files[0],"UTF-8"),t.onload=h}function I(){l(new XMLSerializer().serializeToString(i),"result.xliff"),console.log(i)}return(r,t)=>{const o=g("a-input"),u=g("a-form-item"),m=g("a-form"),s=g("a-col"),v=g("a-row"),A=g("a-table");return b(),C("div",q,[n(m,{class:"confbar",layout:"inline",model:a.value},{default:c(()=>[n(u,{label:"idName"},{default:c(()=>[n(o,{value:a.value.idName,"onUpdate:value":t[0]||(t[0]=p=>a.value.idName=p)},null,8,["value"])]),_:1}),n(u,{label:"unitName"},{default:c(()=>[n(o,{value:a.value.unitName,"onUpdate:value":t[1]||(t[1]=p=>a.value.unitName=p)},null,8,["value"])]),_:1}),n(u,{label:"srcName"},{default:c(()=>[n(o,{value:a.value.srcName,"onUpdate:value":t[2]||(t[2]=p=>a.value.srcName=p)},null,8,["value"])]),_:1}),n(u,{label:"tgtName"},{default:c(()=>[n(o,{value:a.value.tgtName,"onUpdate:value":t[3]||(t[3]=p=>a.value.tgtName=p)},null,8,["value"])]),_:1})]),_:1},8,["model"]),E,n(v,null,{default:c(()=>[n(s,{span:8},{default:c(()=>[_("input",{type:"file",onChange:T,accept:".xliff, text/xml"},null,32)]),_:1}),n(s,{span:8},{default:c(()=>[n(v,{class:"btnrow"},{default:c(()=>[_("button",{onClick:L},"Extract Souces")]),_:1}),P,n(v,{class:"btnrow"},{default:c(()=>[_("button",{onClick:I},"Save")]),_:1})]),_:1}),n(s,{span:8},{default:c(()=>[_("input",{type:"file",onChange:O,accept:".json, application/JSON"},null,32)]),_:1})]),_:1}),R,e.value.length?(b(),S(A,{key:0,dataSource:e.value,columns:f,rowKey:(p,N)=>N,class:"ant-table-striped","row-class-name":(p,N)=>N%2===1?"table-striped":null},null,8,["dataSource","rowKey","row-class-name"])):U("v-if",!0)])}}};var D=J(V,[["__scopeId","data-v-7048e968"]]);const H={setup(d){return(f,i)=>(b(),S(D))}};const K=j(H);K.use(F).mount("#app");
