var B=Object.defineProperty,j=Object.defineProperties;var q=Object.getOwnPropertyDescriptors;var h=Object.getOwnPropertySymbols;var T=Object.prototype.hasOwnProperty,$=Object.prototype.propertyIsEnumerable;var k=(s,t,a)=>t in s?B(s,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[t]=a,y=(s,t)=>{for(var a in t||(t={}))T.call(t,a)&&k(s,a,t[a]);if(h)for(var a of h(t))$.call(t,a)&&k(s,a,t[a]);return s},N=(s,t)=>j(s,q(t));import{a as m,r as _,o as v,b,f as l,w as u,d as g,i as C,U as D,C as w,m as O,t as S,h as U}from"./vendor.a70cb874.js";import E from"./config.0020e59d.js";import{b as F}from"./strUtils.7244e7cd.js";import{b as I}from"./path.215fc192.js";import"./index.6d598a51.js";const z={class:"page"},A=g("br",null,null,-1),G=g("p",null,"Click or drag file to this area to upload",-1),H=U(),K=U(),Y={setup(s){const t=m(""),a=m({}),f=m([]),d=m({ign_deprecated:!0,grp_name:"x-apifox-folder"});function J(o){var r,p,c;let n=[];for(const e in o)d.value.ign_deprecated&&(!o[e].get||o[e].get.deprecated)&&(!o[e].post||o[e].post.deprecated)||n.push({name:I(e),path:e,group:(c=(r=o[e].get)==null?void 0:r[d.value.grp_name])!=null?c:(p=o[e].post)==null?void 0:p[d.value.grp_name],post_flag:!!o[e].post});return n}async function V(o){await F(o.file,e=>{var i;return a.value=(i=JSON.parse(e.target.result).paths)!=null?i:{}});const n=J(a.value).sort((e,i)=>e.path.localeCompare(i.path));let r={};for(const e of n)r[e.group]=N(y({},r[e.group]),{[e.name]:e.path});let p="";for(const e in r)p+="export const "+e.toUpperCase()+"URI = "+JSON.stringify(r[e],null,4)+`;

`;t.value=p;const c=n.filter(e=>e.post_flag).map(e=>e.path);f.value=c.sort(),o.onSuccess("success",o.file)}const x=o=>{var n;return(n=navigator.clipboard)==null?void 0:n.writeText(o)};return(o,n)=>{const r=_("a-upload-dragger"),p=_("a-form-item"),c=_("a-col"),e=_("a-row"),i=_("a-form");return v(),b("div",z,[l(E,{conf:d.value},null,8,["conf"]),A,l(i,{"label-col":{span:8},"wrapper-col":{span:16}},{default:u(()=>[l(p,{label:"JSON File",wrapperCol:{span:8}},{default:u(()=>[l(r,{accept:".txt, .json, text/plain",customRequest:V,maxCount:1},{default:u(()=>[l(C(D)),G]),_:1})]),_:1}),l(e,null,{default:u(()=>[l(c,{span:12},{default:u(()=>[l(p,{label:"Result"},{default:u(()=>[t.value.length?(v(),b("a",{key:0,onClick:n[0]||(n[0]=R=>x(t.value))},[l(C(w))])):O("v-if",!0),H,g("pre",null,S(t.value)+" ",1)]),_:1})]),_:1}),l(c,{span:12},{default:u(()=>[l(p,{label:"postUris"},{default:u(()=>[f.value.length?(v(),b("a",{key:0,onClick:n[1]||(n[1]=R=>x(JSON.stringify(f.value,null,4)))},[l(C(w))])):O("v-if",!0),K,g("pre",null,S(JSON.stringify(f.value,null,4))+" ",1)]),_:1})]),_:1})]),_:1})]),_:1})])}}};export{Y as default};
